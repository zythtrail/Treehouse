"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8011],{62957:function(e,t,s){s.r(t),s.d(t,{BannerVaultIsFull:function(){return o}});var n=s(57437),a=s(86976),i=s(27648),r=s(2265),l=s(82403);function o(){let[e,t]=(0,r.useState)(!0),{isFullVault:s}=(0,l.z)(),o=(0,r.useCallback)(()=>t(!1),[]);return s&&e?(0,n.jsxs)(a.jL0,{variant:"brand",classNameInner:"justify-center max-w-[800px] md:max-w-none mx-auto",onClose:o,children:[(0,n.jsx)(a.pj7,{onClose:o,children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:31,height:30,viewBox:"0 0 31 30",fill:"none",children:[(0,n.jsx)("path",{d:"M5.1875 8.90625V23.9062C5.18935 24.5273 5.43688 25.1223 5.87602 25.5615C6.31515 26.0006 6.91022 26.2481 7.53125 26.25H16.5M25.8125 15V8.90625",stroke:"#00DDC2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M26.0469 3.75H4.95312C4.04703 3.75 3.3125 4.48453 3.3125 5.39062V6.79688C3.3125 7.70297 4.04703 8.4375 4.95312 8.4375H26.0469C26.953 8.4375 27.6875 7.70297 27.6875 6.79688V5.39062C27.6875 4.48453 26.953 3.75 26.0469 3.75Z",stroke:"#00DDC2",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M19.25 17.8125L15.5 21.5625L11.75 17.8125M15.5 20.267V13.125",stroke:"#00DDC2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.6331 20.1331C21.8106 19.9556 22.0984 19.9556 22.276 20.1331L25.0795 22.9367L27.8831 20.1331C28.0606 19.9556 28.3484 19.9556 28.526 20.1331C28.7035 20.3106 28.7035 20.5984 28.526 20.776L25.7224 23.5795L28.526 26.3831C28.7035 26.5606 28.7035 26.8484 28.526 27.026C28.3484 27.2035 28.0606 27.2035 27.8831 27.026L25.0795 24.2224L22.276 27.026C22.0984 27.2035 21.8106 27.2035 21.6331 27.026C21.4556 26.8484 21.4556 26.5606 21.6331 26.3831L24.4367 23.5795L21.6331 20.776C21.4556 20.5984 21.4556 20.3106 21.6331 20.1331Z",fill:"#00DDC2"})]})}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-1 text-[14px] leading-tight",children:[(0,n.jsx)("span",{className:"text-grey-0 font-semibold",children:"tETH vault is full."}),(0,n.jsx)("span",{children:"Stay updated on Discord about our next cap raise."})]}),(0,n.jsx)(a.zxk,{variant:"brand-ghost",children:(0,n.jsx)(i.default,{href:a.b_F.DISCORD,target:"_blank",children:"Join Discord"})})]}):null}},79252:function(e,t,s){s.r(t),s.d(t,{DepositBannerCapRaise:function(){return o}});var n=s(57437),a=s(82403),i=s(86976),r=s(2265);function l(e){let{label:t,description:s,imgBgPc:a,imgBgSp:l,classImgBgPc:o,classImgBgSp:c,className:d,hasClose:u=!0}=e,[m,x]=(0,r.useState)(!0);return m?(0,n.jsxs)("div",{className:(0,i.cn)("rounded-2xl border border-solid border-brand-90 shadow-descriptive-button bg-[linear-gradient(263deg,_#008071_-70.66%,_#000000_86.69%)] bg-brand-70 relative overflow-hidden",d),children:[(0,n.jsxs)("div",{className:"px-8 py-6 relative z-[1] flex justify-between gap-3 md:gap-8",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2 content",children:[(0,n.jsx)("div",{className:"text-[16px] leading-[1.2em] font-semibold text-grey-0",children:t}),(0,n.jsx)("div",{className:"text-grey-4 text-[14px] leading-[1.25em]",children:s})]}),u&&(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:17,viewBox:"0 0 16 17",fill:"none",className:"w-4 h-4 flex-shrink-0 cursor-pointer",onClick:()=>x(!1),children:(0,n.jsx)("path",{d:"M13 13.5L3 3.5M13 3.5L3 13.5",stroke:"#F7F7F8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),a&&(0,n.jsx)("img",{src:a,alt:"banner-pc",className:(0,i.cn)("absolute w-auto h-full top-0 right-[60px] hidden md:inline-block",o)}),l&&(0,n.jsx)("img",{src:l,alt:"banner-deposit-sp",className:(0,i.cn)("absolute w-auto h-full top-0 right-0 hidden xs:inline-block md:hidden",c)})]}):null}function o(e){let{children:t}=e,{isFullVault:s,isLoading:i}=(0,a.z)();return i?(0,n.jsx)(n.Fragment,{}):s?(0,n.jsx)(n.Fragment,{children:t}):(0,n.jsx)(l,{className:"md:[&_.content]:max-w-[500px]",label:(0,n.jsxs)(n.Fragment,{children:["tETH Vault is now"," ",(0,n.jsx)("span",{className:"text-brand-30 drop-shadow-[0px_0px_2px_#00DBC2]",children:"Open"})]}),description:"Get real yield and rewards while building the fixed income layer with us!",imgBgPc:"/assets/bg-banner-deposit-cap-raise.png",hasClose:!1})}},76362:function(e,t,s){s.r(t),s.d(t,{VaultCapacity:function(){return r}});var n=s(57437),a=s(86976),i=s(82403);function r(){let{vaultCapacity:e,depositCap:t,isLoading:s,isFullVault:r}=(0,i.z)();return(0,n.jsx)("div",{className:"inline-flex items-center text-[14px] leading-[1.1875em] gap-1 text-grey-4 ",children:s?(0,n.jsx)(a.OdW,{className:"w-[150px] h-[19px]"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-nowrap",children:"Vault Capacity (".concat((0,a.ufS)(t)," ETH):")})," ",(0,n.jsx)("span",{className:(0,a.cn)("text-grey-1",r&&"text-brand-50"),children:e>=0?"".concat((0,a.OEJ)(e)):"-"}),(0,n.jsx)(a.Qlu,{tooltip:"Percentage of tETH vault that has been filled.",classNameContent:"max-w-[330px]",children:(0,n.jsx)(a.t3L,{className:"h-4 w-4 flex-shrink-0"})})]})})}},83304:function(e,t,s){s.r(t),s.d(t,{DepositForm:function(){return F}});var n=s(57437),a=s(13590),i=s(20878),r=s(2265),l=s(29501),o=s(86976);function c(e){let{tokenAddress:t,className:s}=e,{readableBalance:a,balance:r,isLoading:l}=(0,i.HO)("ETH"===t?void 0:t,i.rC);return(0,n.jsx)("div",{className:(0,o.cn)("leading-[1.1875em]",s),children:l?(0,n.jsx)(o.OdW,{className:"w-[150px] h-[19px]"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-grey-4 text-nowrap leading-[1.1875em]",children:"Wallet Balance:"})," ",(0,n.jsx)("span",{children:a})]})})}var d=s(45320),u=s(27648);function m(e){let{tokenAddress:t,isLoading:s,rate:a}=e;return(0,n.jsx)(o.UQy,{type:"single",collapsible:!0,children:(0,n.jsxs)(i.ae.Item,{value:"pair-convert-info",children:[(0,n.jsx)(i.ae.Trigger,{isLoading:s,children:(0,n.jsx)(i.ae.Rate,{rate:a?(0,o.ufS)(a,10):"-",quoteSymbol:i.PR[t],isReward:!0,children:(0,n.jsx)(o.Qlu,{tooltip:(0,n.jsxs)(n.Fragment,{children:["tETH is a non-rebasing token. Its exchange rate reflects staking rewards and market efficiency yields that accrue to each tETH token. Detailed calculations can be found in"," ",(0,n.jsx)(u.default,{href:"https://docs.treehouse.finance/protocol/teth/architecture/token-accounting",target:"_blank",className:"text-brand-50 cursor-pointer hover:opacity-80",children:"Treehouse Documentation."})]}),align:"center",className:"align-middle",classNameContent:"max-w-[327px] text-wrap",asChild:!0,children:(0,n.jsx)("div",{children:(0,n.jsx)(o.t3L,{className:"h-4 w-4 flex-shrink-0 text-grey-4"})})})})}),(0,n.jsxs)(i.ae.Content,{children:[(0,n.jsx)(i.ae.Metric,{isLoading:s,label:"tETH/".concat(i.PR[t]," Rate"),value:a?(0,o.ufS)(a,10):"-",unit:i.PR[t]}),(0,n.jsx)(i.ae.Metric,{isLoading:s,label:"Rewards",value:(0,n.jsx)(d.my,{className:"w-4 h-4 flex-shrink-0 sm:ml-auto"})})]})]})})}var x=s(64707),h=s(12629),p=s(78787),g=s(2398);function f(e){let{walletAddress:t,symbol:s,depositAmount:a}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.lI,{className:"text-grey-1",children:[(0,n.jsx)("img",{src:"/assets/".concat(s,".svg"),alt:"asset-icon",className:"w-6 h-6 flex-shrink-0 inline-block mr-1"}),(0,n.jsx)("span",{className:"align-middle",children:"".concat(a," ").concat(s)})]}),(0,n.jsx)("span",{children:t&&(0,i.sC)(t)})]})}function j(e){let{receiveAmount:t,className:s,iconClassName:a}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.lI,{className:(0,o.cn)("justify-start flex-row",s),children:[(0,n.jsx)("img",{src:"/assets/tETH.svg",alt:"icon",className:(0,o.cn)("w-6 h-6 flex-shrink-0 inline-block mr-1",a)}),(0,n.jsx)("span",{className:"align-middle",children:"".concat(t," tETH")})]}),(0,n.jsx)("span",{children:"Vault"})]})}function b(e){let{walletAddress:t,symbol:s="ETH",depositAmount:a,receiveAmount:i}=e;return(0,n.jsx)(d.Pm,{type:"confirm",title:"Approve in Wallet",description:"Requesting spending cap for your transaction.",leftSlot:(0,n.jsx)(f,{walletAddress:t,symbol:s,depositAmount:a}),rightSlot:(0,n.jsx)(j,{receiveAmount:i,iconClassName:"opacity-30"})})}function v(e){let{walletAddress:t,symbol:s,depositAmount:a,receiveAmount:i}=e;return(0,n.jsx)(d.Pm,{title:"Confirm Your Request",description:"Sign message to approve your transaction.",leftSlot:(0,n.jsx)(f,{walletAddress:t,symbol:s,depositAmount:a}),rightSlot:(0,n.jsx)(j,{receiveAmount:i,className:"text-grey-1"})})}function y(e){let{walletAddress:t,symbol:s="ETH",depositAmount:a,receiveAmount:r,hash:l}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Pm,{type:"success",title:"Deposit Successful!",description:"Weâ€™re thrilled to have you join the fixed income revolution!",successSlot:(0,n.jsx)(d.f,{}),leftSlot:(0,n.jsx)(f,{walletAddress:t,symbol:s,depositAmount:a}),rightSlot:(0,n.jsx)(j,{receiveAmount:r})}),(0,n.jsxs)(o.cNS,{className:"justify-start md:justify-between flex-col-reverse md:flex-row gap-4",children:[l&&(0,n.jsx)(o.zxk,{type:"button",variant:"ghost",size:"md",className:"md:flex-1",asChild:!0,children:(0,n.jsx)(u.default,{href:(0,i.Kh)(l),target:"_blank",children:"View on Etherscan"})}),(0,n.jsx)(o.zxk,{type:"button",variant:"primary",size:"md",className:"md:flex-1",asChild:!0,children:(0,n.jsx)(u.default,{href:o.YjK.PORTFOLIO,shallow:!0,children:"View on Portfolio"})})]})]})}function w(e){let{walletAddress:t,symbol:s="ETH",depositAmount:a,receiveAmount:i}=e;return(0,n.jsx)(d.Pm,{type:"processing",title:"Depositing...",description:"Give us a few seconds to process your deposit.",leftSlot:(0,n.jsx)(f,{walletAddress:t,symbol:s,depositAmount:a}),rightSlot:(0,n.jsx)(j,{receiveAmount:i,iconClassName:"opacity-30"})})}function N(e){let{symbol:t,depositAmount:s,onSubmit:a}=e,[i,l]=(0,r.useState)(!1),c=async()=>{l(!0),await a(),l(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.fKu,{children:[(0,n.jsx)(o.$N8,{className:"text-[20px]",children:"Confirm Deposit"}),(0,n.jsx)(o.BeV,{size:"md",asChild:!0,className:"pt-2",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"mb-3",children:["You are about to deposit"," ",(0,n.jsx)("span",{className:"text-grey-1 font-semibold",children:"".concat(s," ").concat(t)})," ","into the tETH Vault."]}),(0,n.jsx)("p",{children:"By confirming, you will start earning Staking Yield, Market Efficiency Yield (MEY) and Treehouse Nuts."})]})})]}),(0,n.jsxs)(o.cNS,{className:"justify-start md:justify-between flex-col-reverse md:flex-row gap-4",children:[(0,n.jsx)(o.GGM,{asChild:!0,children:(0,n.jsx)(o.zxk,{type:"button",variant:"ghost",size:"md",className:"md:flex-1",children:"Cancel"})}),(0,n.jsx)(o.zxk,{variant:"primary",size:"md",className:"md:flex-1",onClick:c,disabled:i,children:"Confirm"})]})]})}function C(e){let{tokenAddress:t,depositAmount:s,receiveAmount:a,isDisabled:l,resetForm:c,buttonLabel:u="Deposit ETH"}=e,[m,f]=(0,r.useState)(!1),j=i.PR[t],{address:C}=(0,x.useAccount)(),{deposit:T,reset:A,resetApprove:k,isConfirmed:S,isConfirming:E,isError:H,isPending:L,status:D,hash:R,error:_,errorApprove:z,statusApprove:I,isPendingApprove:F}=function(e){let{tokenAddress:t,walletAddress:s}=e,{writeContract:n,data:a,status:r,error:l,isError:o,isPending:c,reset:d}=(0,p.useWriteContract)(),{isLoading:u,isSuccess:m}=(0,g.useWaitForTransactionReceipt)({hash:a,query:{enabled:!!a,structuralSharing:!1}}),{onAllowanceAndApproveForWallet:x,statusApprove:f,isPendingApprove:j,errorApprove:b,resetApprove:v}=(0,i.aM)();return{deposit:async function(e){if(s){if("ETH"===i.PR[t])n({abi:i.U4,address:i.SC.THF_ADDRESS,functionName:"depositETH",value:(0,h.f)(e)},{onSuccess:a});else try{await x({tokenAddress:t,walletAddress:s,expectedAmount:e,smartContract:i.SC.THF_ADDRESS},()=>{n({abi:i.U4,address:i.SC.THF_ADDRESS,functionName:"deposit",args:[t,(0,h.f)(e)]},{onSuccess:a})})}catch(e){console.error(e),console.log("write contract error")}}async function a(){i.Eh.invalidateQueries({queryKey:["balance"]}),i.Eh.invalidateQueries({queryKey:["readContract"]}),i.Eh.invalidateQueries({queryKey:["getVipInfoEndpoint"]})}},reset:d,resetApprove:v,hash:a,status:r,statusApprove:f,isPendingApprove:j,errorApprove:b,error:l,isError:o,isPending:c,isConfirming:u,isConfirmed:m}}({tokenAddress:t,walletAddress:C}),V=async()=>{await T(s)};return(0,n.jsxs)(o.VqE,{open:m,onOpenChange:function(e){f(e),!e&&(k(),(S||H)&&setTimeout(()=>{A(),c()},500))},children:[(0,n.jsx)(o.hgM,{asChild:!0,children:(0,n.jsx)(o.zxk,{fluid:!0,size:"lg",type:"button",disabled:l,children:u})}),(0,n.jsxs)(o.cZJ,{className:"xs:max-w-[calc(100vw-48px)] sm:max-w-[500px] bottom-4 top-auto translate-y-0 md:top-1/2 md:-translate-y-1/2",onInteractOutside:e=>{(L||F)&&e.preventDefault()},children:["idle"===D&&"idle"===I&&(0,n.jsx)(N,{symbol:j,depositAmount:s,onSubmit:V}),"idle"===D&&F&&(0,n.jsx)(b,{walletAddress:C,symbol:j,depositAmount:s,receiveAmount:a}),"pending"===D&&(0,n.jsx)(v,{walletAddress:C,symbol:j,depositAmount:s,receiveAmount:a}),"success"===D&&E&&(0,n.jsx)(w,{walletAddress:C,symbol:j,depositAmount:s,receiveAmount:a}),"success"===D&&S&&(0,n.jsx)(y,{walletAddress:C,symbol:j,depositAmount:s,receiveAmount:a,hash:R}),"error"===I&&(0,n.jsx)(d._m,{title:(0,i.o8)(z),description:(0,i.e$)(z,"Weâ€™re sorry, but weâ€™re unable to process your deposit at the moment. Please try again later.")}),"error"===D&&(0,n.jsx)(d._m,{title:(0,i.o8)(_),description:(0,i.e$)(_,"Weâ€™re sorry, but weâ€™re unable to process your deposit at the moment. Please try again later.")})]})]})}var T=s(82403);function A(e){let{children:t,type:s="button",size:a="lg",...i}=e,{isFullVault:r}=(0,T.z)();return t&&!r?(0,n.jsx)(n.Fragment,{children:t}):(0,n.jsx)(o.zxk,{fluid:!0,type:s,size:a,...i,disabled:!0,children:"Vault Full"})}var k=s(37691),S=s(68651),E=s(71282),H=s(43623);async function L(e,t){let s=(0,h.f)(e),n=(0,h.f)("0");switch(t){case i.eT.STETH:n=await (0,k.L)(i.gb,{abi:i.Tr,address:i.eT.WSTETH,functionName:"getWstETHByStETH",args:[s],chainId:i.rC});break;case i.eT.WSTETH:n=s;break;default:{let e=await (0,k.L)(i.gb,{abi:i.DX,address:i.lP.stETH_ETH,functionName:"latestAnswer",chainId:i.rC}),t=(0,S.Z)((0,E.d)(s)).multipliedBy((0,E.d)(e)).toString();n=await (0,k.L)(i.gb,{abi:i.Tr,address:i.eT.WSTETH,functionName:"getWstETHByStETH",args:[(0,h.f)(t)],chainId:i.rC})}}let a=await (0,k.L)(i.gb,{abi:i.$l,address:i.eT.TASSET,functionName:"previewDeposit",args:[n],chainId:i.rC});return(0,S.Z)((0,E.d)(a)).toNumber()}function D(e){let{tokenAddress:t,clearErrors:s,name:a,control:c,setValue:u,isCalculating:m,setCalculating:h}=e,p=(0,d.Ce)(),{chainId:g}=(0,x.useAccount)(),{isSigned:f}=(0,H.vI)(),{balance:j}=(0,i.HO)("ETH"===t?void 0:t),b=(0,r.useRef)(),v=i.PR[t],y=j&&g===i.rC?(0,o.VQX)((0,E.d)(j.value)):0,w=(0,l.qo)({name:"depositAmount",control:c});return(0,r.useEffect)(()=>{s&&s(),f&&Number(w)>y&&g===i.rC&&(null==c||c.setError(a,{message:i.in.EXCEED_WALLET_BALANCE}))},[w,y]),(0,r.useEffect)(()=>{w&&e();async function e(){u("receiveAmount",await L(String(w),t))}},[t]),(0,n.jsx)(l.Qr,{name:a,control:c,render:e=>{let{field:s,fieldState:{error:a}}=e;async function r(e){s.onChange(e),b.current&&clearTimeout(b.current),b.current=setTimeout(async()=>{h("receive"),u("receiveAmount",await L(String(e),t)),b.current=void 0,h(void 0)},300)}return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.UCQ,{inputSize:"md",placeholder:"0",modeStyle:"group",decimal:20,allowNegativeValue:!1,defaultValue:s.value,onValueChange:r,disabled:s.disabled,loadingSkeleton:m&&(0,n.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 left-10 bg-black",style:{width:p?"calc(100% - ".concat(11*((null==v?void 0:v.length)||0)+130+40,"px)"):"calc(100% - 132px)"},children:(0,n.jsx)(o.OdW,{className:"h-9 w-full"})}),"aria-invalid":void 0!==a,leadingIcon:(0,n.jsx)("img",{src:i.hX[t],alt:"asset-icon",className:"group-aria-[disabled=true]/ui-kit-input:opacity-30 h-6 w-6"}),trailingIcon:(0,n.jsxs)("span",{className:"flex gap-4 items-center right-4",children:[(0,n.jsx)("span",{className:"text-grey-4 group-hover/ui-kit-input:text-grey-0 text-[20px] hidden md:block group-focus-within/form-teth-deposit:text-grey-0",children:v}),(0,n.jsx)(o.zxk,{type:"button",variant:"toggle-button",size:"md",onClick:()=>r(y),disabled:!f||g!==i.rC,children:"Max"})]}),className:"pl-12 group-focus-within/form-teth-deposit:text-grey-0",style:{paddingRight:p?"".concat(11*((null==v?void 0:v.length)||0)+130,"px"):"92px"}}),a&&(0,n.jsx)(o.ug1,{size:"none",variant:"danger",children:null==a?void 0:a.message})]})}})}function R(e){let{name:t,control:s,setValue:a,tokenAddress:c,isCalculating:d,setCalculating:u}=e,m=(0,r.useRef)();return(0,n.jsx)(l.Qr,{name:t,control:s,render:e=>{let{field:t,fieldState:{error:s}}=e;async function r(e){t.onChange(e),m.current&&clearTimeout(m.current),m.current=setTimeout(async()=>{u("deposit"),a("depositAmount",await (0,i.NH)(String(e),c)),m.current=void 0,u(void 0)},300)}return(0,n.jsx)(o.UCQ,{inputSize:"md",placeholder:"0",modeStyle:"group",decimal:20,defaultValue:t.value,onValueChange:r,disabled:t.disabled,loadingSkeleton:d&&(0,n.jsx)("div",{className:"absolute w-[calc(100%-128px)] top-1/2 -translate-y-1/2 left-10 bg-black",children:(0,n.jsx)(o.OdW,{className:"h-9 w-full"})}),variant:"brand",leadingIcon:(0,n.jsx)("img",{src:"/assets/tETH.svg",alt:"icon",className:"group-aria-[disabled=true]/ui-kit-input:opacity-30 h-6 w-6 flex-shrink-0"}),trailingIcon:(0,n.jsx)("span",{className:"text-[20px] right-4 text-grey-4 group-hover/ui-kit-input:text-grey-0 group-focus-within/form-teth-deposit:text-grey-0",children:"tETH"}),className:"pl-12 pr-[80px] group-focus-within/form-teth-deposit:text-brand-50"})}})}function _(e){let{...t}=e;return(0,n.jsx)(l.Qr,{...t,render:e=>{let{field:t}=e,s=i.PR[t.value];return(0,n.jsxs)(o.h_2,{children:[(0,n.jsx)(o.e_5,{inputSize:"md",variant:"ghost",className:"w-full md:w-[92px] md:h-8 md:rounded-lg gap-1",icon:(0,n.jsx)(o.SAU,{className:"h-4 w-4 flex-shrink-0"}),children:(0,n.jsx)(o.t93,{className:"text-md md:text-sm",placeholder:s,children:s})}),(0,n.jsx)(o.Z8Q,{variant:"ghost",children:(0,n.jsx)(o._xG,{value:t.value,onValueChange:t.onChange,children:Object.keys(i.PR).map(e=>(0,n.jsx)(o.qBA,{value:e,hidden:!0,className:"h-10 md:h-8 text-md md:text-sm",children:i.PR[e]},e))})})]})}})}var z=s(31229);let I=z.z.object({tokenAddress:z.z.string(),depositAmount:z.z.coerce.number().min(0),receiveAmount:z.z.coerce.number().min(0)}).required({tokenAddress:!0,depositAmount:!0,receiveAmount:!0});function F(e){var t;let{containerButtonSubmitForm:s}=e,{isUnsupportedChain:o}=(0,i.AH)([i.rC]),[d,u]=(0,r.useState)(),{control:x,clearErrors:p,reset:g,formState:{errors:f},setValue:j}=(0,l.cI)({defaultValues:{tokenAddress:i.eT.ETH,depositAmount:void 0,receiveAmount:void 0},resolver:(0,a.F)(I)}),b=(0,l.qo)({name:"tokenAddress",control:x}),v=(0,l.qo)({name:"depositAmount",control:x}),y=(0,l.qo)({name:"receiveAmount",control:x}),w=i.PR[b],{rate:N,isLoading:T}=function(e){let[t,s]=(0,r.useState)(0),[n,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async function(){a(!0);let t=await (0,k.L)(i.gb,{abi:i.$l,address:i.eT.TASSET,functionName:"convertToAssets",chainId:i.rC,args:[(0,h.f)("1")]});switch(e){case i.eT.STETH:{let e=await (0,k.L)(i.gb,{abi:i.Tr,address:i.eT.WSTETH,functionName:"getStETHByWstETH",chainId:i.rC,args:[(0,h.f)("1")]});s((0,S.Z)((0,E.d)(t)).multipliedBy((0,E.d)(e)).toNumber());break}case i.eT.WSTETH:s(Number((0,E.d)(t)));break;default:{let e=await (0,k.L)(i.gb,{abi:i.Tr,address:i.eT.WSTETH,functionName:"getStETHByWstETH",chainId:i.rC,args:[(0,h.f)("1")]}),n=await (0,k.L)(i.gb,{abi:i.DX,address:i.lP.stETH_ETH,chainId:i.rC,functionName:"latestAnswer"});s((0,S.Z)((0,E.d)(t)).multipliedBy((0,E.d)(e)).multipliedBy((0,E.d)(n)).toNumber())}}a(!1)})()},[e]),{rate:t,isLoading:n}}(b);return(0,n.jsxs)("div",{className:"flex flex-col gap-8 text-[14px] h-full",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4 mb-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 md:gap-2 md:items-center w-full md:w-fit",children:[(0,n.jsx)("label",{className:"text-nowrap leading-[1.1875em]",children:"Enter Amount"}),(0,n.jsx)(_,{name:"tokenAddress",control:x})]}),(0,n.jsx)(i.QY,{label:"Wallet Balance:",supportChainIDs:[i.rC],className:"hidden md:inline-flex",children:(0,n.jsx)(c,{tokenAddress:b,className:"hidden md:block truncate"})})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-8 group/form-teth-deposit",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)(D,{name:"depositAmount",tokenAddress:b,control:x,setValue:j,clearErrors:p,isCalculating:"deposit"===d,setCalculating:u}),(0,n.jsx)(i.QY,{label:"Wallet Balance:",supportChainIDs:[i.rC],className:"md:hidden",children:(0,n.jsx)(c,{tokenAddress:b,className:"block md:hidden truncate"})})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("label",{className:"leading-[1.2em]",children:"You Receive"}),(0,n.jsx)(R,{name:"receiveAmount",tokenAddress:b,control:x,setValue:j,isCalculating:"receive"===d,setCalculating:u})]})]}),(0,n.jsx)(m,{rate:N,isLoading:T,tokenAddress:b})]}),(0,n.jsx)(s,{children:(0,n.jsx)(A,{children:(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsx)(C,{buttonLabel:(null===(t=f.depositAmount)||void 0===t?void 0:t.message)===i.in.EXCEED_WALLET_BALANCE?"Insufficient Balance":"Deposit ".concat(w),tokenAddress:b,depositAmount:String(v),receiveAmount:String(y),isDisabled:Object.keys(f).length>0||0>=Number(v)||void 0===v||o,resetForm:()=>g({tokenAddress:b,depositAmount:void 0,receiveAmount:void 0})})})})})]})}},82403:function(e,t,s){s.d(t,{z:function(){return l}});var n=s(20878),a=s(2265),i=s(71282),r=s(27323);function l(){let{depositCap:e,isLoading:t}=function(){let{data:e,isLoading:t}=(0,r.useReadContract)({abi:n.U4,address:n.SC.THF_ADDRESS,chainId:n.rC,functionName:"depositCapInEth"});return{depositCap:e?Number((0,i.d)(e)):0,isLoading:t}}(),{totalEthDeposited:s,isLoading:l}=(0,n.IM)(),o=(0,a.useMemo)(()=>s>=0&&e>0&&s>=e,[e,s]),c=(0,a.useMemo)(()=>o?1:s>=0&&e>0?s/e:0,[e,o,s]),d=(0,a.useMemo)(()=>t||l,[t,l]);return{isFullVault:(0,a.useMemo)(()=>e-s<=.1||o,[e,o,s]),isLoading:d,vaultCapacity:c,depositCap:e,totalEthDeposited:s}}}}]);
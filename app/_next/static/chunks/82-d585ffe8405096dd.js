"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[82],{6952:function(e,s,t){t.d(s,{G:function(){return d}});var r=t(57437),a=t(71632),n=t(66209),l=t(93804),o=t(27648),i=t(2265),c=t(64707);function d(){let{address:e}=(0,c.useAccount)(),{isSigned:s}=(0,l.vI)(),{data:t}=(0,a.useQuery)({queryKey:["sotatek","referralReferrer",e,s],queryFn:l.Sv,enabled:s,gcTime:0}),d=(0,i.useMemo)(()=>s?t:void 0,[t,s]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:"/assets/bg-referral-success-pc.png",alt:"referral-success",className:"absolute -top-6 left-1/2 -translate-x-1/2 max-w-[270px] w-full h-auto hidden md:block"}),(0,r.jsx)("img",{src:"/assets/bg-referral-success-sp.png",alt:"referral-success",className:"absolute -top-6 left-1/2 -translate-x-1/2 max-w-[160px] w-full h-auto md:hidden"}),(0,r.jsx)(n.GGM,{asChild:!0,children:(0,r.jsx)(n.SLE,{className:"flex-shrink-0 w-4 h-4 ml-auto cursor-pointer text-grey-1"})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-6 text-center items-center",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:100,height:100,viewBox:"0 0 100 100",fill:"none",className:"w-[80px] h-[80px] md:w-[110px] md:h-[110px] flex-shrink-0",children:[(0,r.jsx)("g",{clipPath:"url(#clip0_1950_20241)",children:(0,r.jsx)("path",{d:"M32.572 68.4444L32.5703 68.4432C31.6566 67.7994 30.9606 66.8881 30.5836 65.834L27.3636 55.923L27.3626 55.9201C26.4569 53.1466 24.9129 50.6243 22.8549 48.5563C20.7969 46.4883 18.2824 44.9321 15.5135 44.0131L15.5066 44.0109L15.4998 44.0086L5.69974 40.8342C4.62988 40.4691 3.69941 39.7811 3.03675 38.8648C2.37168 37.9451 2.00938 36.8411 2.00018 35.7061C1.99098 34.5711 2.33535 33.4614 2.98542 32.5311C3.62992 31.6087 4.5432 30.9081 5.60026 30.5245L15.4958 27.3417L15.5204 27.3338L15.5448 27.3253C18.2164 26.3892 20.6408 24.859 22.6355 22.8502C24.6302 20.8413 26.1432 18.406 27.0607 15.7277L27.0654 15.7139L27.0699 15.7001L30.3309 5.70857C30.6936 4.63644 31.3806 3.70357 32.2968 3.03917C33.2152 2.37313 34.3184 2.00998 35.4527 2.0002C36.5871 1.99043 37.6963 2.33451 38.6261 2.98462C39.5491 3.62998 40.2497 4.54505 40.6321 5.60417L43.8514 15.4916L43.854 15.4996L43.8567 15.5076C44.7785 18.2598 46.3277 20.7598 48.3818 22.8101C50.436 24.8603 52.9388 26.4048 55.6924 27.3212L55.6924 27.3212L55.7043 27.3251L65.5252 30.5254L65.5366 30.5291L65.5481 30.5327C66.6396 30.8739 67.5965 31.5491 68.2841 32.4631C68.9717 33.3771 69.3553 34.4839 69.3807 35.6275C69.4061 36.7712 69.0721 37.8939 68.4258 38.8376C67.7854 39.7725 66.8705 40.485 65.808 40.8767L55.9083 44.0799L55.8985 44.083L55.8889 44.0863C53.1379 45.0075 50.6388 46.5557 48.5889 48.6087C46.539 50.6617 44.9944 53.1633 44.0771 55.9158L44.0771 55.9158L44.0728 55.9291L40.889 65.7097C40.4957 66.8004 39.7853 67.747 38.8468 68.4352C37.9322 69.0852 36.8386 69.4358 35.7164 69.4386C34.5906 69.4414 33.4917 69.094 32.572 68.4444ZM73.1685 67.13L74.9318 61.6893C75.1733 60.9478 75.6421 60.3011 76.2715 59.8409C76.9009 59.3807 77.6591 59.1303 78.4387 59.1252C79.2183 59.12 79.9797 59.3604 80.6152 59.8123C81.2475 60.2619 81.7231 60.8983 81.9753 61.6321L83.7708 67.1404L83.7742 67.1509L83.7777 67.1613C84.2578 68.5808 85.0597 69.8699 86.1207 70.928C87.1817 71.986 88.473 72.7843 89.8938 73.2604L89.9071 73.2647L95.3639 75.0506L95.3774 75.055L95.3909 75.0592C96.1378 75.292 96.7921 75.7548 97.2606 76.3816C97.7291 77.0084 97.9877 77.7672 97.9996 78.5497C98.0114 79.3323 97.7759 80.0985 97.3266 80.7392C96.8801 81.3758 96.2453 81.8561 95.5118 82.1126L90.0156 83.907L90.011 83.9085C88.5892 84.3765 87.2853 85.1712 86.214 86.2597C85.1629 87.3212 84.3669 88.6077 83.8859 90.022L83.8817 90.0345L83.8776 90.047L82.1116 95.4741C81.9221 96.0204 81.6091 96.5156 81.1969 96.9211C80.7814 97.3299 80.2766 97.6364 79.7223 97.8164C79.1679 97.9964 78.5794 98.0449 78.0031 97.9581C77.4282 97.8716 76.8812 97.6527 76.4053 97.3188C75.7847 96.877 75.315 96.2551 75.0597 95.5374L73.2633 90.0408C73.2626 90.0388 73.2619 90.0367 73.2613 90.0346C72.7989 88.5963 72.0022 87.2949 70.9304 86.2229C69.8667 85.1591 68.572 84.3604 67.1416 83.8776L67.1298 83.8736L67.118 83.8698L61.6743 82.1073C61.6732 82.1069 61.6722 82.1066 61.6711 82.1062C60.9315 81.8634 60.2868 81.3943 59.8281 80.765C59.3688 80.1349 59.1194 79.3761 59.1153 78.5962C59.1112 77.8162 59.3526 77.0548 59.8052 76.4199C60.2559 75.7877 60.8932 75.3127 61.6274 75.0616L67.1362 73.2654L67.1557 73.259L67.1751 73.2523C68.5779 72.7629 69.8486 71.9559 70.8881 70.8943C71.9276 69.8328 72.7077 68.5454 73.1677 67.1326L73.1685 67.13Z",stroke:"url(#paint0_linear_1950_20241)",strokeWidth:4})}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"paint0_linear_1950_20241",x1:27,y1:26,x2:"91.5",y2:"89.5",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#00DDC2"}),(0,r.jsx)("stop",{offset:"0.12",stopColor:"#B2F5ED"}),(0,r.jsx)("stop",{offset:"0.265",stopColor:"#F7F7F8"}),(0,r.jsx)("stop",{offset:"0.335",stopColor:"#B2F5ED"}),(0,r.jsx)("stop",{offset:"0.495",stopColor:"#008071"}),(0,r.jsx)("stop",{offset:"0.68",stopColor:"#B2F5ED"}),(0,r.jsx)("stop",{offset:"0.81",stopColor:"#DEFCF6"}),(0,r.jsx)("stop",{offset:1,stopColor:"#13BA9A"})]}),(0,r.jsx)("clipPath",{id:"clip0_1950_20241",children:(0,r.jsx)("rect",{width:100,height:100,fill:"white"})})]})]}),(0,r.jsxs)(n.fKu,{className:"space-y-1 mt-2",children:[(0,r.jsx)(n.$N8,{className:"text-[20px] text-brand-50 leading-[1.2em] justify-center",children:"Referral Code Verified"}),(0,r.jsx)(n.BeV,{size:"md",className:"text-grey-1 leading-[1.2em]",children:"Refer to your dashboard for points accrual."})]}),(0,r.jsx)("div",{className:"flex flex-col gap-2 items-center text-center py-2",children:(null==d?void 0:d.code)&&(0,r.jsxs)("div",{className:"text-[14px] leading-[1.2em]",children:["Referred by: ",null==d?void 0:d.code]})})]}),(0,r.jsx)(n.cNS,{children:(0,r.jsx)(n.zxk,{type:"button",variant:"ghost",size:"md",asChild:!0,fluid:!0,children:(0,r.jsx)(o.default,{href:n.YjK.DASHBOARD,shallow:!0,children:"View Dashboard"})})})]})}},18988:function(e,s,t){t.r(s),t.d(s,{ReferralByUrl:function(){return v}});var r=t(57437),a=t(93804),n=t(2265),l=t(16050),o=t(66209),i=t(88962),c=t(11880);function d(e){let{children:s,label:t,description:a,extraDescription:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:"/assets/bg-referral-success-pc.png",alt:"referral-success",className:"absolute -top-6 left-1/2 -translate-x-1/2 max-w-[270px] w-full h-auto hidden md:block"}),(0,r.jsx)("img",{src:"/assets/bg-referral-success-sp.png",alt:"referral-success",className:"absolute -top-6 left-1/2 -translate-x-1/2 max-w-[160px] w-full h-auto md:hidden"}),(0,r.jsx)(o.GGM,{asChild:!0,children:(0,r.jsx)(o.SLE,{className:"flex-shrink-0 w-4 h-4 ml-auto cursor-pointer text-grey-1"})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-6 text-center items-center",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:100,height:100,viewBox:"0 0 100 100",fill:"none",className:"w-[80px] h-[80px] md:w-[110px] md:h-[110px] flex-shrink-0",children:[(0,r.jsx)("g",{clipPath:"url(#clip0_1950_20241)",children:(0,r.jsx)("path",{d:"M32.572 68.4444L32.5703 68.4432C31.6566 67.7994 30.9606 66.8881 30.5836 65.834L27.3636 55.923L27.3626 55.9201C26.4569 53.1466 24.9129 50.6243 22.8549 48.5563C20.7969 46.4883 18.2824 44.9321 15.5135 44.0131L15.5066 44.0109L15.4998 44.0086L5.69974 40.8342C4.62988 40.4691 3.69941 39.7811 3.03675 38.8648C2.37168 37.9451 2.00938 36.8411 2.00018 35.7061C1.99098 34.5711 2.33535 33.4614 2.98542 32.5311C3.62992 31.6087 4.5432 30.9081 5.60026 30.5245L15.4958 27.3417L15.5204 27.3338L15.5448 27.3253C18.2164 26.3892 20.6408 24.859 22.6355 22.8502C24.6302 20.8413 26.1432 18.406 27.0607 15.7277L27.0654 15.7139L27.0699 15.7001L30.3309 5.70857C30.6936 4.63644 31.3806 3.70357 32.2968 3.03917C33.2152 2.37313 34.3184 2.00998 35.4527 2.0002C36.5871 1.99043 37.6963 2.33451 38.6261 2.98462C39.5491 3.62998 40.2497 4.54505 40.6321 5.60417L43.8514 15.4916L43.854 15.4996L43.8567 15.5076C44.7785 18.2598 46.3277 20.7598 48.3818 22.8101C50.436 24.8603 52.9388 26.4048 55.6924 27.3212L55.6924 27.3212L55.7043 27.3251L65.5252 30.5254L65.5366 30.5291L65.5481 30.5327C66.6396 30.8739 67.5965 31.5491 68.2841 32.4631C68.9717 33.3771 69.3553 34.4839 69.3807 35.6275C69.4061 36.7712 69.0721 37.8939 68.4258 38.8376C67.7854 39.7725 66.8705 40.485 65.808 40.8767L55.9083 44.0799L55.8985 44.083L55.8889 44.0863C53.1379 45.0075 50.6388 46.5557 48.5889 48.6087C46.539 50.6617 44.9944 53.1633 44.0771 55.9158L44.0771 55.9158L44.0728 55.9291L40.889 65.7097C40.4957 66.8004 39.7853 67.747 38.8468 68.4352C37.9322 69.0852 36.8386 69.4358 35.7164 69.4386C34.5906 69.4414 33.4917 69.094 32.572 68.4444ZM73.1685 67.13L74.9318 61.6893C75.1733 60.9478 75.6421 60.3011 76.2715 59.8409C76.9009 59.3807 77.6591 59.1303 78.4387 59.1252C79.2183 59.12 79.9797 59.3604 80.6152 59.8123C81.2475 60.2619 81.7231 60.8983 81.9753 61.6321L83.7708 67.1404L83.7742 67.1509L83.7777 67.1613C84.2578 68.5808 85.0597 69.8699 86.1207 70.928C87.1817 71.986 88.473 72.7843 89.8938 73.2604L89.9071 73.2647L95.3639 75.0506L95.3774 75.055L95.3909 75.0592C96.1378 75.292 96.7921 75.7548 97.2606 76.3816C97.7291 77.0084 97.9877 77.7672 97.9996 78.5497C98.0114 79.3323 97.7759 80.0985 97.3266 80.7392C96.8801 81.3758 96.2453 81.8561 95.5118 82.1126L90.0156 83.907L90.011 83.9085C88.5892 84.3765 87.2853 85.1712 86.214 86.2597C85.1629 87.3212 84.3669 88.6077 83.8859 90.022L83.8817 90.0345L83.8776 90.047L82.1116 95.4741C81.9221 96.0204 81.6091 96.5156 81.1969 96.9211C80.7814 97.3299 80.2766 97.6364 79.7223 97.8164C79.1679 97.9964 78.5794 98.0449 78.0031 97.9581C77.4282 97.8716 76.8812 97.6527 76.4053 97.3188C75.7847 96.877 75.315 96.2551 75.0597 95.5374L73.2633 90.0408C73.2626 90.0388 73.2619 90.0367 73.2613 90.0346C72.7989 88.5963 72.0022 87.2949 70.9304 86.2229C69.8667 85.1591 68.572 84.3604 67.1416 83.8776L67.1298 83.8736L67.118 83.8698L61.6743 82.1073C61.6732 82.1069 61.6722 82.1066 61.6711 82.1062C60.9315 81.8634 60.2868 81.3943 59.8281 80.765C59.3688 80.1349 59.1194 79.3761 59.1153 78.5962C59.1112 77.8162 59.3526 77.0548 59.8052 76.4199C60.2559 75.7877 60.8932 75.3127 61.6274 75.0616L67.1362 73.2654L67.1557 73.259L67.1751 73.2523C68.5779 72.7629 69.8486 71.9559 70.8881 70.8943C71.9276 69.8328 72.7077 68.5454 73.1677 67.1326L73.1685 67.13Z",stroke:"url(#paint0_linear_1950_20241)",strokeWidth:4})}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"paint0_linear_1950_20241",x1:27,y1:26,x2:"91.5",y2:"89.5",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#00DDC2"}),(0,r.jsx)("stop",{offset:"0.12",stopColor:"#B2F5ED"}),(0,r.jsx)("stop",{offset:"0.265",stopColor:"#F7F7F8"}),(0,r.jsx)("stop",{offset:"0.335",stopColor:"#B2F5ED"}),(0,r.jsx)("stop",{offset:"0.495",stopColor:"#008071"}),(0,r.jsx)("stop",{offset:"0.68",stopColor:"#B2F5ED"}),(0,r.jsx)("stop",{offset:"0.81",stopColor:"#DEFCF6"}),(0,r.jsx)("stop",{offset:1,stopColor:"#13BA9A"})]}),(0,r.jsx)("clipPath",{id:"clip0_1950_20241",children:(0,r.jsx)("rect",{width:100,height:100,fill:"white"})})]})]}),(0,r.jsxs)(o.fKu,{className:"space-y-1",children:[t&&(0,r.jsx)(o.$N8,{className:"text-[20px] text-brand-50 leading-[1.2em] justify-center",children:t}),a&&(0,r.jsx)(o.BeV,{size:"md",className:"text-grey-1 leading-[1.2em]",children:a})]}),n]}),s]})}function u(){return(0,r.jsx)(d,{label:(0,r.jsx)("span",{className:"py-2",children:"The referral code didnâ€™t work"}),children:(0,r.jsx)(o.cNS,{children:(0,r.jsx)(o.GGM,{asChild:!0,children:(0,r.jsx)(o.zxk,{type:"button",variant:"ghost",size:"md",fluid:!0,children:"Close"})})})})}var x=t(21799);function C(){let[e,s]=(0,n.useState)(!1);return e?(0,r.jsx)(x.K,{}):(0,r.jsx)(d,{label:(0,r.jsx)("span",{className:"pt-5",children:"Your address is not eligible"}),description:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"pt-1",children:"You have previously deposited into tETH and no longer qualify to enter a referral code."}),(0,r.jsx)("p",{className:"py-5",children:"You can still share your code to get a similar boost of 5% on Treehouse Nuts for yourself and your friend(s)."})]}),children:(0,r.jsx)(o.cNS,{children:(0,r.jsx)(o.zxk,{type:"button",variant:"ghost",size:"md",fluid:!0,onClick:()=>s(!0),children:"Get Referral Code"})})})}var f=t(71632),h=t(27648),m=t(64707);function p(){let{address:e}=(0,m.useAccount)(),{isSigned:s}=(0,a.vI)(),{data:t}=(0,f.useQuery)({queryKey:["sotatek","referralReferrer",e,s],queryFn:a.Sv,enabled:s,gcTime:0}),l=(0,n.useMemo)(()=>s?t:void 0,[t,s]);return(0,r.jsx)(d,{label:(0,r.jsx)("span",{className:"pt-2",children:"You already have a referee"}),description:"Refer to your dashboard for points accrual.",extraDescription:(0,r.jsx)("div",{className:"flex flex-col gap-2 items-center text-center py-2",children:(null==l?void 0:l.code)&&(0,r.jsxs)("div",{className:"text-[14px] leading-[1.2em]",children:["Referred by: ",null==l?void 0:l.code]})}),children:(0,r.jsx)(o.cNS,{children:(0,r.jsx)(o.zxk,{type:"button",variant:"ghost",size:"md",asChild:!0,fluid:!0,children:(0,r.jsx)(h.default,{href:o.YjK.DASHBOARD,shallow:!0,children:"View Dashboard"})})})})}var j=t(6952);function L(){return(0,r.jsx)(j.G,{})}function g(e){let{code:s,setCode:t,openCWM:l,setOpenCWM:d}=e,{isSigned:x}=(0,a.vI)(),[f,h]=(0,n.useState)(),[m,j]=(0,n.useState)(!1),g=async e=>{let s=await (0,c.W)({referrer_code:e});s.status?(h(""),i.Eh.invalidateQueries({queryKey:["sotatek","referralEnterCode"]})):h(s.message),j(!0),t(void 0)};return(0,n.useEffect)(()=>{s&&!x&&d(!0),s&&x&&g(s)},[x,s]),(0,r.jsx)(o.VqE,{open:m,onOpenChange:j,children:(0,r.jsxs)(o.cZJ,{className:"xs:max-w-[382px] sm:max-w-[450px] shadow-descriptive-button bg-[linear-gradient(0deg,_rgba(0,0,0,0.00)_40%,_rgba(19,186,154,0.20)_87.44%)] bg-[#010101]",children:[""===f&&(0,r.jsx)(L,{}),f===a.mq.WALLET_REFERRED&&(0,r.jsx)(p,{}),f===a.mq.WALLET_HAS_TRANSACTION&&(0,r.jsx)(C,{}),f&&[a.mq.REFERRAL_CODE_NOT_WORK,a.mq.UNKNOWN].includes(f)&&(0,r.jsx)(u,{})]})})}function v(e){let{connectWalletModal:s}=e,[t,o]=(0,l.Xs)(a.d9,void 0),[i,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(t);return(0,n.useEffect)(()=>{t&&sessionStorage.removeItem(a.d9)},[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{code:d,setCode:u,openCWM:i,setOpenCWM:c}),(0,r.jsx)(s,{open:i,onOpenChange:c})]})}},61328:function(e,s,t){t.r(s),t.d(s,{ReferralByUrlPage:function(){return i}});var r=t(57437),a=t(93804),n=t(99376),l=t(2265),o=t(16050);function i(e){let{code:s}=e,t=(0,n.useRouter)(),[i,c]=(0,o.Xs)(a.d9,s);return(0,l.useEffect)(()=>{s&&(c(s),t.prefetch("/"),t.replace("/"))},[s]),(0,r.jsx)("div",{className:"bg-inherit min-h-screen"})}},26052:function(e,s,t){t.r(s),t.d(s,{ReferralEnterCodeCard:function(){return L}});var r=t(57437),a=t(71632),n=t(66209),l=t(93804),o=t(2265),i=t(64707),c=t(16050),d=t(11880);let u=(e,s,t)=>{if("undefined"!=typeof document){let r=document.querySelectorAll(s),a=[];r.forEach(s=>{a.push((null==s?void 0:s.textContent)||""),s.setAttribute("disabled","true"),s.textContent="Retry in ".concat(e,"s")});let n=setInterval(function(){--e<0?(clearInterval(n),r.forEach((e,s)=>{e.removeAttribute("disabled"),e.textContent=a[s]}),t&&t()):r.forEach(s=>{s.textContent="Retry in ".concat(e,"s")})},1e3)}};function x(e){let{onSubmit:s}=e,[t,a]=(0,o.useState)(""),[l,i]=(0,o.useState)(""),[x,C]=(0,o.useState)(!1),[f,h]=(0,o.useState)(!1),m=()=>{C(!1),h(!1),i(""),a("")},p=async()=>{h(!0);let e=await (0,d.W)({referrer_code:t});e.status?(s(),m()):(i(e.message),C(!0))};return(0,c.rf)(()=>{x&&u(5,".countdown-button",m)},[x]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.fKu,{children:[(0,r.jsxs)(n.$N8,{children:["Treehouse Referral",(0,r.jsx)(n.GGM,{asChild:!0,children:(0,r.jsx)(n.SLE,{className:"flex-shrink-0 w-4 h-4 ml-auto cursor-pointer self-start md:self-center mt-0.5 md:mt-0 text-grey-1"})})]}),(0,r.jsx)(n.BeV,{size:"md",children:"Enter referral code for additional rewards."})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center min-h-[89px] gap-2",children:[(0,r.jsx)(n.ZnJ,{inputType:"text",value:t,onChange:a,numInputs:5,className:(0,n.cn)("w-12"),containerStyle:"justify-center gap-4",placeholder:"x",invalid:""!==l}),""!==l&&(0,r.jsx)(n.ug1,{variant:"danger",size:"none",className:"text-center text-md leading-[1.2em]",children:l})]}),(0,r.jsx)(n.cNS,{children:(0,r.jsx)(n.zxk,{type:"button",variant:"primary",size:"md",fluid:!0,className:"countdown-button",disabled:5!==t.length||f,onClick:p,children:"Verify Referral Code"})})]})}var C=t(6952);function f(e){let{step:s,onSubmit:t,onOpenChange:a}=e;return(0,r.jsx)(n.VqE,{open:""!==s,onOpenChange:a,children:(0,r.jsxs)(n.cZJ,{className:(0,n.cn)("xs:max-w-[382px] sm:max-w-[450px]","REFERRAL_FORM"===s&&"bottom-4 top-auto translate-y-0 md:top-1/2 md:-translate-y-1/2","REFERRAL_SUCCESS"===s&&"shadow-descriptive-button bg-[linear-gradient(0deg,_rgba(0,0,0,0.00)_40%,_rgba(19,186,154,0.20)_87.44%)] bg-[#010101]"),children:["REFERRAL_FORM"===s&&(0,r.jsx)(x,{onSubmit:t}),"REFERRAL_SUCCESS"===s&&(0,r.jsx)(C.G,{})]})})}async function h(){var e,s;let t=await (0,l.ZL)();return null!==(s=null==t?void 0:null===(e=t.result)||void 0===e?void 0:e.has_transaction)&&void 0!==s&&s}function m(e){let{children:s,isReferral:t}=e,{address:n}=(0,i.useAccount)(),{isSigned:c}=(0,l.vI)(),{data:d}=(0,a.useQuery)({queryKey:["sotatek","hasTransaction",n,c],queryFn:h,enabled:c,gcTime:0}),u=(0,o.useMemo)(()=>c?!!d:void 0,[d,c]);return!t&&u?(0,r.jsx)(r.Fragment,{}):s}function p(e){let{onClick:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 md:gap-2",children:[(0,r.jsx)("h5",{className:"text-[16px] md:text-[14px] font-semibold leading-[1.2em]",children:"Have a Referral Code?"}),(0,r.jsx)("p",{className:"text-[14px] md:text-[12px] text-brand-50 leading-[1.2em]",children:"Enter the referral code given to you for an extra boost!"})]}),(0,r.jsx)(n.zxk,{size:"lg",variant:"ghost",fluid:!0,className:"countdown-button md:h-10 md:px-6 md:text-[14px] md:gap-2 md:rounded-lg",onClick:s,children:"Enter Code"})]})}var j=t(32505);function L(){let{address:e}=(0,i.useAccount)(),{isSigned:s}=(0,l.vI)(),{data:t,refetch:c}=(0,a.useQuery)({queryKey:["sotatek","referralEnterCode",e,s],queryFn:l.Sv,enabled:s,gcTime:0}),d=(0,o.useMemo)(()=>!!s&&!!(null==t?void 0:t.code),[s,null==t?void 0:t.code]),[u,x]=(0,o.useState)(""),C=(0,o.useCallback)(e=>{e||x("")},[]),h=(0,o.useCallback)(()=>{x("REFERRAL_SUCCESS"),c()},[c]);return(0,r.jsx)(m,{isReferral:d,children:(0,r.jsxs)(n.Zbd,{className:(0,n.cn)("leading-normal gap-4 justify-between md:p-6",d&&"md:flex-col"),variant:"ghost",size:"lg",children:[d?(0,r.jsx)(j.Z,{code:null==t?void 0:t.code}):(0,r.jsx)(p,{onClick:()=>x("REFERRAL_FORM")}),(0,r.jsx)(f,{step:u,onSubmit:h,onOpenChange:C})]})})}},11880:function(e,s,t){t.d(s,{W:function(){return a}});var r=t(93804);async function a(e){let{referrer_code:s}=e,t=await (0,r.c5)({params:{referrer_code:s}});return t.status?{status:!0,messageKey:"OK",message:"Congratulations! Referral Code Verified"}:t.status||2e5!==t.code?!t.status&&[400,404].includes(t.code)?{status:!1,messageKey:"INVALID_CODE",message:r.mq.REFERRAL_CODE_NOT_WORK}:t.status||200001!==t.code?{status:!1,messageKey:"UNKNOWN",message:r.mq.UNKNOWN}:{status:!1,messageKey:"INVALID_CODE",message:r.mq.WALLET_HAS_TRANSACTION}:{status:!1,messageKey:"INVALID_USER",message:r.mq.WALLET_REFERRED}}}}]);